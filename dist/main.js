(()=>{var t={55:()=>{const t=document.querySelector("body");let e=!0;if(localStorage.getItem("loaded")){let t=localStorage.getItem("loaded");t<10?(t++,localStorage.setItem("loaded",t)):e=!1}else localStorage.setItem("loaded",1);t.innerHTML=e?'<div>\n    <div class="generate">\n        <div class="seperator">\n            <form id="update-density">\n                <label for="density">Enter the density</label>\n                <input type="text" name="density">\n                <button id="update" class="tooltip"><span class="tooltiptext">updates the current selected grid</span>update</button>\n            </form>\n            <button id="add" class="tooltip"><span class="tooltiptext">add a new grid</span>add</button>\n        </div>\n        <button id="draw" class="tooltip"><span class="tooltiptext">modify the current selected grid</span>draw</button>\n        <button id="type" class="tooltip"><span class="tooltiptext">when drawing right click removes/adds a pixel</span>remove pixel</button>\n        <button id="restart"> restart </button>\n        <button id="pause">pause</button>\n        <button id="step" class="tooltip"><span class="tooltiptext">each click is one step (first pause)</span>step</button>\n        <div id="show-step"> step : 0 </div>\n        <button id="lines" class="tooltip"><span class="tooltiptext">colored shows each tread</span>lines: normal</button>\n        <div class="slider">\n            <input type="range", min="5", max="1000" value="10">\n            <div>10</div>\n            <div>ms delay</div>\n        </div>\n        <div class="reveal seperator">\n            <form id="toggle-show">\n                <label for="show" class="tooltip"><span class="tooltiptext">auto-show the shortest path when completed</span>Auto Show</label>\n                <input type="checkbox" name="show" checked>\n            </form>\n            <button class="show">show</button>\n        </div>\n        <div id="pressure"></div>\n        <button id="reactivate" class="tooltip"><span class="tooltiptext">I am a tooltip, click me and refresh the page to show all of them. ps: after 10 times it will again deactivate</span>show tooltips</button>\n    </div>\n    </div>\n    <section class="main">\n    <div id="documents">\n    </div>\n    <div class="container">\n        <div id="canvas1"></div>\n        <div id="canvas-draw"></div>\n    </div>\n    </section':'<div>\n    <div class="generate">\n        <div class="seperator">\n            <form id="update-density">\n                <label for="density">Enter the density</label>\n                <input type="text" name="density">\n                <button id="update">update</button>\n            </form>\n            <button id="add">add</button>\n        </div>\n        <button id="draw">draw</button>\n        <button id="type">remove pixel</button>\n        <button id="restart"> restart </button> \n        <button id="pause">pause</button>\n        <button id="step">step</button>\n        <div id="show-step">step : 0 </div>\n        <button id="lines">lines: normal</button>\n        <div class="slider">\n            <input type="range", min="5", max="1000" value="10">\n            <div>10</div>\n            <div>ms delay</div>\n        </div>\n        <div class="reveal seperator">\n            <form id="toggle-show">\n                <label for="show">Auto Show</label>\n                <input type="checkbox" name="show" checked>\n            </form>\n            <button class="show">show</button>\n        </div>\n        <div id="pressure"></div>\n        <button id="reactivate" class="tooltip"><span class="tooltiptext">I am a tooltip, click me and refresh the page to show all of them. ps: after 10 times it will again deactivate</span>show tooltips</button>\n    </div>\n    </div>\n    <section class="main">\n    <div id="documents">\n    </div>\n    <div class="container">\n        <div id="canvas1"></div>\n        <div id="canvas-draw"></div>\n    </div>\n    </section'},28:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(81),i=r.n(n),o=r(645),s=r.n(o)()(i());s.push([t.id,':root {\r\n    position: absolute;\r\n    background-color: gray;\r\n}\r\n\r\n\r\n* {\r\n    font-family: sans-serif;\r\n}\r\n/* button navbar */\r\n\r\n\r\n.generate {\r\n    margin-top: 0;\r\n    left: 0;\r\n    margin: 0;\r\n    padding: 15px;\r\n}\r\n\r\n.generate * {\r\n    margin: 5px;\r\n}\r\n\r\n.generate .seperator #update-density input {\r\n    border: 1px solid black;\r\n    background-color: lightgray;\r\n    padding: 3px;\r\n}\r\n\r\n.seperator {\r\n    background-color: darkgray;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.generate button {\r\n    margin: 10px;\r\n    margin-right: 0px;\r\n    height: 30px;\r\n    padding: 5px;\r\n    width: 110px;\r\n\r\n    background-color: #3498DB;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    border: 1px solid black;\r\n}\r\n\r\n.generate button:hover {\r\n    background-color: #2980B9;\r\n}\r\n\r\n\r\n\r\n\r\n/* the left documents */\r\n\r\n#documents {\r\n    width: 14%;\r\n    /* Overflow-y: scroll; */\r\n    height: 80vh;\r\n}\r\n\r\n\r\n#documents div {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n#documents div .delete {\r\n    /* display */\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n\r\n    margin: 10px;\r\n    margin-left: 0px;\r\n    padding: 5px;\r\n    height: 30px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n\r\n    background-color: #3498DB;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    border-top-left-radius: 0px;\r\n    border-bottom-left-radius: 0px;\r\n}\r\n#documents div .delete .blocker {\r\n    content: "";\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 35px;\r\n    background-color: black;\r\n    margin-left: -10px;\r\n}\r\n#documents div .name {\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n\r\n    margin: 10px;\r\n    margin-right: 0px;\r\n    height: 30px;\r\n    padding: 5px;\r\n    width: 110px;\r\n\r\n    background-color: #3498DB;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    border-top-right-radius: 0px;\r\n    border-bottom-right-radius: 0px;\r\n}\r\n\r\n#documents div div:hover {\r\n    background-color: #2980B9;\r\n}\r\n\r\n/* simulation */\r\n\r\n.holder {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n.block {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: rgb(184, 184, 184);\r\n    width: var(--width);\r\n    height: var(--height);\r\n    position: relative;\r\n    z-index: 1;\r\n}\r\n\r\n.generate * {\r\n    display: inline-block;\r\n}\r\n.main {\r\n    display: flex;\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n    width: 1000px;\r\n    height: 500px;\r\n}\r\n\r\n#canvas1 {\r\n    position: absolute;\r\n    background: lightgray;\r\n    height: 100%;  \r\n    width: 100%;\r\n    opacity: 1;\r\n}\r\n\r\n#canvas-draw {\r\n    position: absolute;\r\n    background: lightgreen;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    z-index: 1;\r\n}\r\n\r\n\r\n/* tooltip */\r\n\r\n.tooltip {\r\n    position: relative;\r\n    display: inline-block;\r\n  }\r\n  \r\n  .tooltip .tooltiptext {\r\n    visibility: hidden;\r\n    width: 120px;\r\n    background-color: black;\r\n    color: #fff;\r\n    text-align: center;\r\n    border-radius: 6px;\r\n    padding: 5px 0;\r\n    position: absolute;\r\n    z-index: 10;\r\n    top: 130%;\r\n    left: 50%;\r\n    margin-left: -60px;\r\n    opacity: 0;\r\n    transition: opacity 0.5s;\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .tooltip .tooltiptext::after {\r\n    content: "";\r\n    position: absolute;\r\n    bottom: 100%;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-width: 5px;\r\n    border-style: solid;\r\n    border-color: transparent transparent black transparent;\r\n  }\r\n  \r\n  .tooltip:hover .tooltiptext {\r\n    visibility: visible;\r\n    opacity: 1;\r\n  }\r\n\r\n  ',""]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(s[d]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);n&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var d=t[a],l=n.base?d[0]+n.base:d[0],c=o[l]||0,h="".concat(l," ").concat(c);o[l]=c+1;var u=r(h),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var g=i(p,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:g,references:1})}s.push(h)}return s}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var o=n(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=r(o[s]);e[a].references--}for(var d=n(t,i),l=0;l<o.length;l++){var c=r(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=d}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(379),e=r.n(t),n=r(795),i=r.n(n),o=r(569),s=r.n(o),a=r(565),d=r.n(a),l=r(216),c=r.n(l),h=r(589),u=r.n(h),p=r(28),g={};g.styleTagTransform=u(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=c(),e()(p.Z,g),p.Z&&p.Z.locals&&p.Z.locals;class m{constructor(t,e,r,n,i={width:100,height:50},o=!1,s,a,d=!1,l=!0,c){this.x=t,this.y=e,this.gridPointer=r,this.DomArrayPointer=n,this.width=i.width,this.height=i.height,this.blocked=!1,this.coloredLines=c,this.color=this.getRandomColor(),this.first=o,o||(this.fromTread=s,this.fromTreadAt=a),this.history=[],this.at=0,this.initialized=!l,d&&(this.gridPointer[this.y][this.x]=2,this.DomArrayPointer[this.y][this.x].style.backgroundColor=this.color,this.history.push({x:this.x,y:this.y}),this.at++)}getRandomColor(){if(this.coloredLines.state)for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];else t="blue";return t}check_bottom(){return this.snapshot.y<this.height-1&&0==this.gridPointer[this.snapshot.y+1][this.snapshot.x]}check_right(){return this.snapshot.x<this.width-1&&0==this.gridPointer[this.snapshot.y][this.snapshot.x+1]}check_left(){return this.snapshot.x>0&&0==this.gridPointer[this.snapshot.y][this.snapshot.x-1]}check_top(){return this.snapshot.y>0&&0==this.gridPointer[this.snapshot.y-1][this.snapshot.x]}update(){this.gridPointer[this.y][this.x]=2,this.DomArrayPointer[this.y][this.x].style.backgroundColor=this.color,this.at++,this.history.push({x:this.x,y:this.y})}first_step(){return this.check_bottom()?(this.y++,this.update(),{}):(this.blocked=!0,{found:!1})}step(){let t={at:this.at};if(this.snapshot={x:this.x,y:this.y},!this.initialized)return this.initialized=!0,this.first_step();let e=!1;return this.check_bottom()&&(e=!0,this.y++,this.y===this.height-1)?(this.update(),t.found=!0,t):(this.check_right()&&(e?t.right={x:this.snapshot.x+1,y:this.snapshot.y}:(e=!0,this.x++)),this.check_left()&&(e?t.left={x:this.snapshot.x-1,y:this.snapshot.y}:(e=!0,this.x--)),this.check_top()&&(e?t.top={x:this.snapshot.x,y:this.snapshot.y-1}:(e=!0,this.y--)),e?this.update():(this.blocked=!0,t.found=!1),t)}}class v{constructor(t,e,r){this.canvasManager=t,this.coloredLines=e,this.color=r}find(t){let e=this.getBottomPoints(t),r=this.getTopPoints(t),n=this.resolvePaths(e);return this.clearAndWrite(n),{top:r,bottom:e}}clearAndWrite(t){for(let t=0;t<this.canvasManager.height;t++)for(let e=0;e<this.canvasManager.width;e++)1!==this.canvasManager.grid[t][e]&&(this.canvasManager.grid[t][e]=0,this.canvasManager.DomArrayPointer[t][e].style.backgroundColor=this.color);t.forEach((t=>{let e=this.getRandomColor();t.forEach((t=>{this.canvasManager.DomArrayPointer[t.y][t.x].style.backgroundColor=e}))}))}getRandomColor(){if(this.coloredLines.state)for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];else t="blue";return t}resolvePaths(t){let e=[];return t.forEach((t=>{let r=[],n=!1,i=t,o=0;if(r.push(...i.history),!t.first)for(o=i.fromTreadAt,i=i.fromTread;!n;){for(let t=0;t<o;t++)r.push(i.history[t]);i.history.length,i.first?n=!0:(o=i.fromTreadAt,i=i.fromTread)}e.push(r)})),e}getBottomPoints(t){let e=[];return t.forEach((t=>{t.history.length>0&&t.history[t.history.length-1].y==this.canvasManager.height-1&&e.push(t)})),e}getTopPoints(t){let e=[];return t.forEach((t=>{t.history.length>0&&0==t.history[t.history.length-1].y&&e.push(t)})),e}}var f,y=new Uint8Array(16);function b(){if(!f&&!(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(y)}const x=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,w=function(t){return"string"==typeof t&&x.test(t)};for(var k=[],C=0;C<256;++C)k.push((C+256).toString(16).substr(1));const E=function(t,e,r){var n=(t=t||{}).random||(t.rng||b)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(k[t[e+0]]+k[t[e+1]]+k[t[e+2]]+k[t[e+3]]+"-"+k[t[e+4]]+k[t[e+5]]+"-"+k[t[e+6]]+k[t[e+7]]+"-"+k[t[e+8]]+k[t[e+9]]+"-"+k[t[e+10]]+k[t[e+11]]+k[t[e+12]]+k[t[e+13]]+k[t[e+14]]+k[t[e+15]]).toLowerCase();if(!w(r))throw TypeError("Stringified UUID is invalid");return r}(n)};r(55);const M=document.querySelector(":root"),A=document.querySelector("#canvas1"),P=document.querySelector("#update-density"),S=document.querySelector("#add"),D=document.querySelector(".show"),T=document.querySelector("#toggle-show"),L=document.querySelector("#documents"),G=document.querySelector("#draw"),q=document.querySelector("#canvas-draw"),$=document.querySelector("#type"),_=document.querySelector("#restart"),I=document.querySelector("#pause"),R=document.querySelector("#step"),z=document.querySelector(".slider input"),B=document.querySelector(".slider div"),U=document.querySelector("#lines"),H=document.querySelector("#show-step"),j=document.querySelector("#reactivate"),N=document.querySelector("#pressure");let F={state:!1};const O=new class{constructor(t,e,r={width:100,height:50}){this.canvas=t,this.root=e,this.width=r.width,this.height=r.height,this.init()}init(){this.generate_grid(),this.resizeCanvas(),this.generateDomPointerGrid()}generateDomPointerGrid(){let t=[],e=Array.from(this.canvas.children);for(let r=0;r<this.height;r++)t.push(Array.from(e[r].children));this.DomArrayPointer=t}resizeCanvas(){this.root.style.setProperty("--height",this.canvas.clientHeight/50+"px"),this.root.style.setProperty("--width",this.canvas.clientWidth/100+"px")}generate_grid(){let t="";for(let e=0;e<50;e++){t+='<div class="holder">';for(let e=0;e<100;e++)t+='<div class="white block"></div>';t+="</div>"}this.canvas.innerHTML=t}}(A,M),V=new class{generate(t,e){return Math.floor(Math.random()*(e-t+1))+t}generateGrid(t,e,r){let n=t*e/100*r,i=[],o=[];for(let r=0;r<e;r++){for(let e=0;e<t;e++)o.push(0);i.push(o),o=[]}let s=0;for(;s!=n;){let r=this.generate(0,t-1),n=this.generate(0,e-1);0==i[n][r]&&(i[n][r]=1,s++)}return i}},W=new class{constructor(t,e){this.canvasManager=t,this.color=e}load(t){this.canvasManager.grid=t;for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)1==t[e][r]?this.canvasManager.DomArrayPointer[e][r].style.backgroundColor="black":this.canvasManager.DomArrayPointer[e][r].style.backgroundColor=this.color}}(O),Z=new class{constructor(t,e,r){this.canvasManager=t,this.treads=[],this.shortest=new v(t,e,r),this.running=!1,this.coloredLines=e,this.color=r}init(){this.running=!0;for(let t=0;t<100;t++)this.addTread(t,-1)}reset(){for(let t=0;t<this.canvasManager.height;t++)for(let e=0;e<this.canvasManager.width;e++)1!==this.canvasManager.grid[t][e]&&(this.canvasManager.grid[t][e]=0,this.canvasManager.DomArrayPointer[t][e].style.backgroundColor=this.color);this.running=!1,this.treads=[]}addTread(t,e,r=!0,n,i,o=!1,s=!0){this.treads.push(new m(t,e,this.canvasManager.grid,this.canvasManager.DomArrayPointer,{width:this.canvasManager.width,height:this.canvasManager.height},r,n,i,o,s,this.coloredLines))}step(){let t=!1,e=this.treads.length;for(let r=0;r<e;r++)if(!this.treads[r].blocked){let e=this.treads[r].step();null!=e.found&&(!0===e.found?t=!0:e.found),null!=e.right&&this.addTread(e.right.x,e.right.y,!1,this.treads[r],e.at,!0,!1),null!=e.left&&this.addTread(e.left.x,e.left.y,!1,this.treads[r],e.at,!0,!1),null!=e.top&&this.addTread(e.top.x,e.top.y,!1,this.treads[r],e.at,!0,!1)}return t&&(this.running=!1),t}findShortestPath(){return this.shortest.find(this.treads)}}(O,F,"rgb(184, 184, 184)");let X=T.show.checked,Y=!1,J=0,K=!1,Q=!1,tt=!1,et=10;const rt=new class{constructor(t,e,r,n){this.canvasManager=r,this.generator=n,this.updateAddform=t,this.documents=e,this.grids={},this.currentGrid=[],this.currentUuid=null,this.selectedDocument=0}addGrid(t=25){let e=E();return this.grids[e]=this.generator.generateGrid(this.canvasManager.width,this.canvasManager.height,t),e}getGrid(t){return this.grids[t]}regenerateCurrentGrid(t){this.grids[this.currentUuid]=this.generator.generateGrid(this.canvasManager.width,this.canvasManager.height,t),this.currentGrid=this.grids[this.currentUuid]}setGrid(t){this.currentGrid=this.grids[t],this.currentUuid=t}addDocument(t){let e=this.addGrid(t);return this.documents.innerHTML+=`\n            <div>\n                <div grid="${e}" class="name">density : ${t}</div>\n                <div class="delete"><div class="blocker"></div><i class="fa-solid fa-trash-can"></i></div>\n            </div>\n        `,this.reloadDocuments(),e}reloadDocuments(){let t=0;Array.from(this.documents.children).forEach((e=>{e.setAttribute("document",t),t++}))}deleteDocument(t,e){this.currentGrid=this.grids[e]}}(P,L,O,V);function nt(){if(K)return J=0,H.textContent=`step : ${J}`,void(K=!1);if(Q?Q&&tt&&(J++,H.textContent=`step : ${J}`,Y=Z.step()):(J++,H.textContent=`step : ${J}`,Y=Z.step()),tt=!1,Y){if(X){let t=Z.findShortestPath();N.textContent=`Pressure : ${Number(t.bottom.length/t.top.length).toFixed(2)}`}}else setTimeout(nt,et)}function it(t,e){at?(O.DomArrayPointer[e][t].style.backgroundColor="gray",O.grid[e][t]=0):(O.DomArrayPointer[e][t].style.backgroundColor="black",O.grid[e][t]=1)}function ot(t){t.stopPropagation(),1===t.buttons&&it(Math.floor(t.offsetX/(t.target.clientWidth/100)),Math.floor(t.offsetY/(t.target.clientHeight/50)))}function st(t){t.stopPropagation(),it(Math.floor(t.offsetX/(t.target.clientWidth/100)),Math.floor(t.offsetY/(t.target.clientHeight/50)))}rt.addDocument(25),rt.setGrid(L.children[0].children[0].getAttribute("grid")),W.load(rt.currentGrid),Z.init(),setTimeout(nt,et),j.addEventListener("click",(t=>{localStorage.setItem("loaded",0)})),U.addEventListener("click",(t=>{F.state?(F.state=!1,t.target.textContent="lines : normal"):(F.state=!0,t.target.textContent="lines : colored")})),z.oninput=()=>{B.textContent=z.value,et=z.value},R.addEventListener("click",(t=>{tt=!0})),I.addEventListener("click",(t=>{Q?(t.target.textContent="pause",Q=!1):(Q=!0,t.target.textContent="play")})),_.addEventListener("click",(t=>{W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset(),Z.init(),setTimeout(nt,et)})),T.addEventListener("click",(t=>{X=!!t.target.checked})),D.addEventListener("click",(()=>{if(!1===Z.running){let t=Z.findShortestPath();N.textContent=`Pressure : ${Number(t.bottom.length/t.top.length).toFixed(2)}`}}));let at=!1;$.addEventListener("click",(t=>{at?(t.target.textContent="remove pixel",at=!1):(t.target.textContent="add pixel",at=!0)}));let dt=!1;G.addEventListener("click",(t=>{dt?(t.target.textContent="draw",q.removeEventListener("mousemove",ot),q.removeEventListener("mousedown",st),Z.reset(),Z.init(),setTimeout(nt,et)):(t.target.textContent="save",q.addEventListener("mousemove",ot),q.addEventListener("mousedown",st),W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset()),dt=!dt})),P.addEventListener("submit",(t=>{t.preventDefault(),rt.regenerateCurrentGrid(P.density.value),Array.from(L.children)[rt.selectedDocument].children[0].textContent=`density : ${P.density.value}`,W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset(),Z.init(),setTimeout(nt,et),t.target.reset()})),L.addEventListener("click",(t=>{if(t.target.getAttribute("grid"))rt.setGrid(t.target.getAttribute("grid")),rt.selectedDocument=Number(t.target.parentElement.getAttribute("document")),W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset(),Z.init(),setTimeout(nt,et);else if(L.children.length>1)if(t.target.parentElement.classList.contains("delete")){let e=t.target.parentElement.parentElement.children[0].getAttribute("grid"),r=t.target.parentElement.parentElement.parentElement.children[0].children[0].getAttribute("grid");e!=r?(rt.deleteDocument(e,r),rt.selectedDocument=0):(rt.deleteDocument(e,t.target.parentElement.parentElement.parentElement.children[1].children[0].getAttribute("grid")),rt.selectedDocument=1),t.target.parentElement.parentElement.remove(),W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset(),Z.init(),setTimeout(nt,et)}else if(t.target.classList.contains("delete")){let e=t.targett.parentElement.children[0].getAttribute("grid"),r=t.target.parentElement.parentElement.children[0].children[0].getAttribute("grid");e!=r?(rt.deleteDocument(e,r),rt.selectedDocument=0):(rt.deleteDocument(e,t.target.parentElement.parentElement.children[1].children[0].getAttribute("grid")),rt.selectedDocument=1),t.target.parentElement.remove(),W.load(rt.currentGrid),Y?(J=0,H.textContent=`step : ${J}`,Y=!1):K=!0,Z.reset(),Z.init(),setTimeout(nt,et)}})),S.addEventListener("click",(t=>{P.density.value&&(rt.addDocument(P.density.value),P.reset())}))})()})();